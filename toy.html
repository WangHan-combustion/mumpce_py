
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>A toy example using MUM-PCE &#8212; MUM-PCE 0.1 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css" />
    <link rel="stylesheet" type="text/css" href="https://pages.nist.gov/leaveNotice/css/jquery.leaveNotice.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://pages.nist.gov/nist-header-footer/js/jquery-1.9.0.min.js"></script>
    <script type="text/javascript" src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js"></script>
    <script id="_fed_an_ua_tag" type="text/javascript" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=NIST&subagency=github&pua=UA-42404149-54&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery.1.12.4.min.js"></script>
    <script type="text/javascript" src="https://pages.nist.gov/leaveNotice/js/jquery.leaveNotice-nist.min.js"></script>
    <script type="text/javascript" src="_static/leave_notice.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example usage and output" href="toy_model_example.html" />
    <link rel="prev" title="Measurements and Models" href="measurement.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">MUM-PCE</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="measurement.html" title="Measurements and Models"
             accesskey="P">previous</a> |
          <a href="toy_model_example.html" title="Example usage and output"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="a-toy-example-using-mum-pce">
<h1>A toy example using MUM-PCE<a class="headerlink" href="#a-toy-example-using-mum-pce" title="Permalink to this headline">¶</a></h1>
<p>This toy model is designed to demonstrate the entire workflow for MUM-PCE. It contains a set of measurements and applications that have hard-wired dependencies on a set of parameters, which guarantees that their response surfaces will take a particular form. This model contains measurements that are known to be outliers and also measurements that poorly constrain the model, thus providing an example of the functionality of MUM-PCE. This document explains how the model is developed, how the initialization function interacts with the model to create measurements, and how these entities interact with a MUM-PCE Project.</p>
<p>In addition, <a class="reference internal" href="toy_model_example.html"><span class="doc">Example usage and output</span></a> is provided which shows the complete workflow of the toy project:</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="defining-models">
<h2>Defining models<a class="headerlink" href="#defining-models" title="Permalink to this headline">¶</a></h2>
<p>The models used in the toy example are defined by the equation,</p>
<div class="math notranslate nohighlight">
\[y = A \prod_i k_i p_i\]</div>
<p>This equation is equivalent to <span class="math notranslate nohighlight">\(\ln y = a^\text{T}x + z\)</span> where <span class="math notranslate nohighlight">\(x_i = \ln p_i\)</span>, <span class="math notranslate nohighlight">\(a_i = \ln k_i\)</span>, and <span class="math notranslate nohighlight">\(z = \ln A\)</span>. The parameters <span class="math notranslate nohighlight">\(p_i\)</span> are initially all set to 1, so that the nominal response of the model is equal to <span class="math notranslate nohighlight">\(A\)</span>. Consequently, the response surface will be identical to model.</p>
<p>A <a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-class docutils literal notranslate"><span class="pre">toy_model</span></code></a> object can be created directly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">experiment_number</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">my_model</span> <span class="o">=</span> <span class="n">toy_model</span><span class="p">(</span><span class="n">experiment_number</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">This usage is not the normal way of calling MUM-PCE. One would normally use an initialization function to create a batch of <a class="reference internal" href="measurement.html#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Measurement</span></code></a> and <a class="reference internal" href="measurement.html#model.Model" title="model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> objects at once.</p>
</div>
<p>Calling the <code class="xref py py-func docutils literal notranslate"><span class="pre">my_model.evaluate()</span></code> method of the toy model returns <span class="math notranslate nohighlight">\(y\)</span>. Calling <code class="xref py py-func docutils literal notranslate"><span class="pre">my_model.sensitivity()</span></code> will return <span class="math notranslate nohighlight">\(y\)</span> and also the sensitivity vector <span class="math notranslate nohighlight">\(S_i = d\ln y/d\ln k_i\)</span>, which is equal to <span class="math notranslate nohighlight">\(a_i\)</span> to within numerical error. <code class="xref py py-func docutils literal notranslate"><span class="pre">my_model.sensitivity()</span></code> has the sensitivity perturbation as a parameter, and the smaller this value is, the closer <span class="math notranslate nohighlight">\(S\)</span> will be to <span class="math notranslate nohighlight">\(a\)</span>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_model</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.2214027581601699</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">V</span><span class="p">,</span><span class="n">S</span> <span class="o">=</span> <span class="n">my_model</span><span class="o">.</span><span class="n">sensitivity</span><span class="p">(</span><span class="mf">0.0000001</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Value</span> <span class="o">=</span>  <span class="mf">1.22140275816</span>
<span class="n">Param</span>  <span class="n">Value</span><span class="o">+</span>       <span class="n">Value</span><span class="o">-</span>           <span class="n">Sensitivity</span>
     <span class="mi">0</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">1.0000e+00</span>
     <span class="mi">1</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">6.0000e-01</span>
     <span class="mi">2</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">4.0000e-01</span>
     <span class="mi">3</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">1.0000e-01</span>
     <span class="mi">4</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">3.0000e-02</span>
     <span class="mi">5</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">1.0000e-02</span>
     <span class="mi">6</span>  <span class="mf">1.22140e+00</span>   <span class="mf">1.22140e+00</span>   <span class="mf">2.0000e-02</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sensitivity output shown above is printed to the log file and also to the screen.</p>
</div>
<p>Calling <code class="xref py py-func docutils literal notranslate"><span class="pre">my_model.get_parameter_info()</span></code> returns a list of dictionaries that has information about the model parameters. The keys of this dictionary are the number of the parameter and its name; the names are (imaginatively) Parameter 1 through Parameter 7. As an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_model</span><span class="o">.</span><span class="n">get_model_parameter_info</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 1&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 2&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 3&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 4&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 5&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 6&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;parameter_number&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;parameter_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Parameter 7&#39;</span><span class="p">}],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-initialization-function">
<h2>The initialization function<a class="headerlink" href="#the-initialization-function" title="Permalink to this headline">¶</a></h2>
<p>The function <a class="reference internal" href="#toy.toy_initialize" title="toy.toy_initialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">toy_initialize()</span></code></a> gives an example of how to instantiate measurements. This function reads an Excel file to determine the experimental database. The Excel file for the measurement list looks like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Name</span>                 <span class="n">Number</span>  <span class="n">Value</span>   <span class="n">Uncertainty</span>
<span class="n">Experiment</span> <span class="mi">1</span>         <span class="mi">0</span>       <span class="mf">0.4</span>     <span class="mf">0.05</span>
<span class="n">Experiment</span> <span class="mi">2</span>         <span class="mi">1</span>       <span class="mf">0.25</span>    <span class="mf">0.05</span>
<span class="n">Experiment</span> <span class="mi">3</span>         <span class="mi">2</span>       <span class="mf">0.2</span>     <span class="mf">0.05</span>
<span class="n">Experiment</span> <span class="mi">4</span>         <span class="mi">3</span>       <span class="mf">0.7</span>     <span class="mf">0.08</span>
<span class="n">Experiment</span> <span class="mi">5</span>         <span class="mi">4</span>       <span class="mf">0.4</span>     <span class="mf">0.8</span>
</pre></div>
</div>
<p>The header row gives the names of each column, which will be parsed by <a class="reference internal" href="#toy.toy_initialize" title="toy.toy_initialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">toy_initialize()</span></code></a>. Each row contains the simulation metadata for one measurement along with the relevant measurement data.</p>
<blockquote>
<div><ul class="simple">
<li>“Name” defines a unique text identifier for each measurement. This identifier is entirely freeform, but because file names will be derived from this name, all characters used in the name must be allowable by the file system. This name also defines whether <a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-class docutils literal notranslate"><span class="pre">toy_model</span></code></a> or <a class="reference internal" href="#toy.toy_app" title="toy.toy_app"><code class="xref py py-class docutils literal notranslate"><span class="pre">toy_app</span></code></a> is used.</li>
<li>“Value” is the experimentally-measured value with which the simulation output is to be compared.</li>
<li>“Uncertainty” is the uncertainty in the experimentally-measured value.</li>
<li>“Number” is the only piece of simulation metadata for the toy model. This number is the experiment_number used when creating the <a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-class docutils literal notranslate"><span class="pre">toy_model</span></code></a> or <a class="reference internal" href="#toy.toy_app" title="toy.toy_app"><code class="xref py py-class docutils literal notranslate"><span class="pre">toy_app</span></code></a> object.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is allowed to create a <a class="reference internal" href="measurement.html#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Measurement</span></code></a> without a value or uncertainty, but it is not possible to optimize a model if any members of the measurement list do not have a value or an uncertainty.</p>
</div>
<p>The initialization function is called with the Excel experimental database as its argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_measurements</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_experiments.xlsx&#39;</span><span class="p">,</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_model</span><span class="p">)</span>
<span class="n">my_apps</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_apps.xlsx&#39;</span><span class="p">,</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_app</span><span class="p">)</span>
</pre></div>
</div>
<p>This creates one list which has the measurements and another with the targeted applications.</p>
</div>
<div class="section" id="creating-a-project">
<h2>Creating a Project<a class="headerlink" href="#creating-a-project" title="Permalink to this headline">¶</a></h2>
<p>In its most simple form, a mumpce <a class="reference internal" href="Project.html#Project.Project" title="Project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a> can be created by defining a measurement initialization function and some parameter uncertainties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_project</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">parameter_uncertainties</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">parameter_uncertainties</span><span class="p">,</span>
                             <span class="n">initialize_function</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">)</span>
</pre></div>
</div>
<p>This creates an almost-empty Project object that is ready to have its measurements initialized.</p>
<div class="section" id="initializing-measurements-within-the-project">
<h3>Initializing Measurements within the Project<a class="headerlink" href="#initializing-measurements-within-the-project" title="Permalink to this headline">¶</a></h3>
<p>If the <a class="reference internal" href="Project.html#Project.Project" title="Project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a> has no measurements to begin with, the measurement and application lists can be created by the <code class="xref py py-func docutils literal notranslate"><span class="pre">measurement_initialize()</span></code> method</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_project</span><span class="o">.</span><span class="n">measurement_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_experiments.xlsx&#39;</span><span class="p">)</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">application_initialize</span><span class="p">(</span><span class="s1">&#39;mumpce_toy_apps.xlsx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-a-project-with-existing-measurements">
<h3>Creating a Project with existing Measurements<a class="headerlink" href="#creating-a-project-with-existing-measurements" title="Permalink to this headline">¶</a></h3>
<p>If the measurement and application lists have already been created, the <a class="reference internal" href="Project.html#Project.Project" title="Project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a> can then be created with the measurement and application lists as arguments</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_project</span> <span class="o">=</span> <span class="n">mumpce</span><span class="o">.</span><span class="n">Project</span><span class="p">(</span><span class="n">measurement_list</span><span class="o">=</span><span class="n">toy_measurements</span><span class="p">,</span>
                          <span class="n">application_list</span><span class="o">=</span><span class="n">toy_apps</span><span class="p">,</span>
                          <span class="n">model</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_model</span><span class="p">,</span>
                          <span class="n">parameter_uncertainties</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">parameter_uncertainties</span><span class="p">,</span>
                          <span class="n">initialize_function</span><span class="o">=</span><span class="n">mumpce</span><span class="o">.</span><span class="n">toy</span><span class="o">.</span><span class="n">toy_initialize</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="solving-the-project">
<h2>Solving the Project<a class="headerlink" href="#solving-the-project" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="Project.html#Project.Project" title="Project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a> is now ready to be solved. The workflow described in <a class="reference internal" href="Project.html"><span class="doc">Projects and Solutions</span></a> can be followed from this point:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_project</span><span class="o">.</span><span class="n">find_sensitivity</span><span class="p">()</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">find_active_parameters</span><span class="p">(</span><span class="n">sens_cutoff</span><span class="p">)</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">set_active_parameters</span><span class="p">()</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">run_optimization</span><span class="p">()</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">remove_inconsistent_measurements</span><span class="p">()</span>
<span class="n">my_project</span><span class="o">.</span><span class="n">remove_low_information_measurements</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="function-summary">
<h2>Function summary<a class="headerlink" href="#function-summary" title="Permalink to this headline">¶</a></h2>
<div class="section" id="toy-model-class-summary">
<h3>Toy model class summary<a class="headerlink" href="#toy-model-class-summary" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#toy.toy_initialize" title="toy.toy_initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_initialize</span></code></a>(filename,&nbsp;model)</td>
<td>The initialization function for the toy model.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model</span></code></a>(experiment_number[,&nbsp;loglevel])</td>
<td>An example of a generic model for use with the MUMPCE program.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#toy.toy_app" title="toy.toy_app"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_app</span></code></a>(experiment_number[,&nbsp;loglevel])</td>
<td>An example of a generic model for use with the MUMPCE program.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="initialization-function">
<h3>Initialization function<a class="headerlink" href="#initialization-function" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="toy.toy_initialize">
<code class="descclassname">toy.</code><code class="descname">toy_initialize</code><span class="sig-paren">(</span><em>filename</em>, <em>model</em><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialization function for the toy model. This function shows how to instantiate a MUMPCE model object and then associate it with a MUMPCE measurement object. It will read an experimental database from an Excel file and use this information to build the measurement lists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>str</em>) – The file that contains the experimental database.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">measurement_list, a list of MUMPCE measurement objects</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="toy-model">
<h3>Toy Model<a class="headerlink" href="#toy-model" title="Permalink to this headline">¶</a></h3>
<div class="section" id="toy-model-method-summary">
<h4><a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-func docutils literal notranslate"><span class="pre">toy_model()</span></code></a> method summary<a class="headerlink" href="#toy-model-method-summary" title="Permalink to this headline">¶</a></h4>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model</span></code></a>(experiment_number[,&nbsp;loglevel])</td>
<td>An example of a generic model for use with the MUMPCE program.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.__str__</span></code>()</td>
<td>Returns the experiment number, which is the only thing interesting about this model</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#toy.toy_model.evaluate" title="toy.toy_model.evaluate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.evaluate</span></code></a>()</td>
<td>Run the model once and return a single value</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#toy.toy_model.sensitivity" title="toy.toy_model.sensitivity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.sensitivity</span></code></a>([perturbation,&nbsp;…])</td>
<td>Evaluate the sensitivity of the model value with respect to the model parameters</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#toy.toy_model.get_parameter" title="toy.toy_model.get_parameter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.get_parameter</span></code></a>(parameter_id)</td>
<td>Retrieve a model parameter’s value</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#toy.toy_model.perturb_parameter" title="toy.toy_model.perturb_parameter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.perturb_parameter</span></code></a>(parameter_id,&nbsp;factor)</td>
<td>Perturb a model parameter’s value by a specified amount.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#toy.toy_model.reset_model" title="toy.toy_model.reset_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.reset_model</span></code></a>()</td>
<td>Reset all model parameters to their original values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#toy.toy_model.get_model_parameter_info" title="toy.toy_model.get_model_parameter_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toy_model.get_model_parameter_info</span></code></a>()</td>
<td>Get information about the parameters, which will go up to the hosting measurement.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="toy.toy_model">
<em class="property">class </em><code class="descclassname">toy.</code><code class="descname">toy_model</code><span class="sig-paren">(</span><em>experiment_number</em>, <em>loglevel=True</em><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model" title="Permalink to this definition">¶</a></dt>
<dd><p>An example of a generic model for use with the MUMPCE program.</p>
<p>This is a toy model where the response is given by <span class="math notranslate nohighlight">\(\ln y = ax + z\)</span>, where <span class="math notranslate nohighlight">\(x\)</span> is the vector of parameters that can be perturbed, <span class="math notranslate nohighlight">\(a\)</span> is some sensitivity vector and <span class="math notranslate nohighlight">\(z\)</span> is some zero-order term. All of the parameters are nominally set to zero, with +/- 1 representing the upper and lower bounds of the prior uncertainty for these parameters.</p>
<p>The model has a matrix of five possible hard-wired <span class="math notranslate nohighlight">\(z\)</span> and <span class="math notranslate nohighlight">\(a\)</span> values. The experiment number corresponds to which pair is being used when the model is being instantiated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>experiment_number</strong> (<em>int</em>) – Which experiment (of five possible) this model represents</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A MUM-PCE model object representing this measurement</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="toy.toy_model.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the model once and return a single value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">model_value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="toy.toy_model.sensitivity">
<code class="descname">sensitivity</code><span class="sig-paren">(</span><em>perturbation=0.001</em>, <em>parameter_list=None</em>, <em>logfile='file'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model.sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the sensitivity of the model value with respect to the model parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>perturbation</strong> (<em>float</em>) – The amount to perturb each parameter during the sensitivity analysis</li>
<li><strong>parameter_list</strong> (<em>iterable</em>) – The list of parameters to perturb. Usually this will be a list of parameter identifiers, which are usually ints or strs.</li>
<li><strong>logfile</strong> (<em>str</em>) – The logging file that will contain the sensitivity calculation output.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">model_value,sensitivity_vector</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="toy.toy_model.get_parameter">
<code class="descname">get_parameter</code><span class="sig-paren">(</span><em>parameter_id</em><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model.get_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a model parameter’s value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parameter_id</strong> (<em>int</em>) – The parameter number whose value to retrieve</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">parameter_value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="toy.toy_model.perturb_parameter">
<code class="descname">perturb_parameter</code><span class="sig-paren">(</span><em>parameter_id</em>, <em>factor</em><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model.perturb_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Perturb a model parameter’s value by a specified amount.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parameter_id</strong> – The parameter identifier whose value to modify</li>
<li><strong>factor</strong> (<em>float</em>) – The amount to change the parameter’s value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="toy.toy_model.reset_model">
<code class="descname">reset_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model.reset_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all model parameters to their original values</p>
</dd></dl>

<dl class="method">
<dt id="toy.toy_model.get_model_parameter_info">
<code class="descname">get_model_parameter_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_model.get_model_parameter_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about the parameters, which will go up to the hosting measurement. This is called during instantiation of the model and normally would not be called at any other time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">model_parameter_info</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dicts</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="toy.toy_app">
<em class="property">class </em><code class="descclassname">toy.</code><code class="descname">toy_app</code><span class="sig-paren">(</span><em>experiment_number</em>, <em>loglevel=True</em><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_app" title="Permalink to this definition">¶</a></dt>
<dd><p>An example of a generic model for use with the MUMPCE program.</p>
<p>This is identical to <a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-func docutils literal notranslate"><span class="pre">toy.toy_model()</span></code></a>, except that it is intended as an targeted application to highlight the experimental design functions. There are three possible hard-wired <span class="math notranslate nohighlight">\(z\)</span> and <span class="math notranslate nohighlight">\(a\)</span> values, which are different from those available in <a class="reference internal" href="#toy.toy_model" title="toy.toy_model"><code class="xref py py-func docutils literal notranslate"><span class="pre">toy.toy_model()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>experiment_number</strong> (<em>int</em>) – Which targeted application (of three possible) this model represents</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A MUM-PCE model object representing this experiment</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="toy.toy_app.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toy.toy_app.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the model once and return a single value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">model_value</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Project.html">Projects and Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurement.html">Measurements and Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">A toy example using MUM-PCE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="toy_model_example.html">Example usage and output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-models">Defining models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-initialization-function">The initialization function</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-project">Creating a Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solving-the-project">Solving the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#function-summary">Function summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cantera.html">The Cantera interface to MUM-PCE</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="measurement.html" title="Measurements and Models"
              >previous</a> |
            <a href="toy_model_example.html" title="Example usage and output"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/toy.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>